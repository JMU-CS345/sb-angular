<ng-template #progressSpinner><mat-spinner></mat-spinner></ng-template>

<app-project-frame *ngIf="project; else progressSpinner" [project]="project"> 

			<div class="row" cdkDropListGroup>
				<div class="col-md-6">
					<mat-card class="inner-detail-card">
						<div style="height:100%;">
					  		<h6>Completed Sprints</h6>
		 			    	<sb-sprint-list [project]="project" [completedOnly]="true" (selected)="selectSprint($event)" (loaded)="selectSprint($event)" [showStartButton]="false" [editable]="false"></sb-sprint-list>
						</div>
					</mat-card>
				</div>
				<div class="col-md-6">
					<mat-card class="inner-detail-card">
						<mat-card-title>
							<div *ngIf="selectedSprint">
								<h3>{{selectedSprint.id}} - {{selectedSprint.title}}</h3>
								<h4>Goal: {{selectedSprint.goal}}</h4>
								<div [innerHtml]="selectedSprint.description"></div>

								<div>Burndown</div>
								<app-burndown [sprint]="selectedSprint"></app-burndown>
								<div>Retrospective</div>
								<div style="font-size: 12pt; font-weight: normal;" *ngIf="!editingRetrospective">
									<div [innerHtml]="selectedSprint.retrospective"></div>
									<div><button mat-icon-button (click)="editingRetrospective = true"><mat-icon color="primary">edit</mat-icon></button></div>
								</div>
								<div style="font-size: 12pt; font-weight: normal;" *ngIf="editingRetrospective">
									<ckeditor class="issue-editor mt-6" name="issueDescription" [editor]="Editor" [data]="" [(ngModel)]="selectedSprint.retrospective"></ckeditor>
									<div><button mat-button (click)="editingRetrospective = false">Cancel</button><button mat-button (click)="saveRetrospective()">Save</button></div>
								</div>
							</div>
						</mat-card-title>

			<!-- 			<mat-card-content [ngSwitch]="mode">
							<sb-project-issue-list *ngSwitchCase="'backlog'" [project]="project" (transfer)="onTransfer($event)"></sb-project-issue-list>
							<sb-sprint-form *ngSwitchCase="'edit'" [sprint]="sprintUnderEdit" mode="edit" (confirm)="onConfirmEdit($event)" (cancel)="mode='backlog'" (delete)="onDeleteSprint($event)"></sb-sprint-form>
							<sb-sprint-form *ngSwitchCase="'create'" mode="create" (confirm)="onConfirmCreate($event)" (cancel)="mode='backlog'"></sb-sprint-form>
						</mat-card-content> -->
					</mat-card>
				</div>
			</div>
</app-project-frame>
