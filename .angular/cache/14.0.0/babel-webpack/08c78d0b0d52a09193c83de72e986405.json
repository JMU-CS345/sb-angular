{"ast":null,"code":"import { MatSnackBar } from '@angular/material/snack-bar';\nimport { SprintsService } from '../sprints.service';\nimport { callWithSnackBar } from '../util';\nimport { Base } from '../base';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../sprints.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"../burndown/burndown.component\";\nimport * as i9 from \"../retrospective-issue-list/retrospective-issue-list.component\";\nimport * as i10 from \"../sprint-snapshot/sprint-snapshot.component\";\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r1.report.sprint.id, \" - \", ctx_r1.report.sprint.title, \" \");\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"a\", 18);\n    i0.ɵɵlistener(\"click\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_18_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r9.mode = \"compare\");\n    });\n    i0.ɵɵelementStart(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Teacher Report\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_span_24_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r11.editingRetrospective = true);\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\", 22);\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 8);\n    i0.ɵɵelement(2, \"p\", 24);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r7.report.sprint.retrospective, i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"textarea\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_26_Template_textarea_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r13.report.sprint.retrospective = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\")(3, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_26_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r15.editingRetrospective = false);\n    });\n    i0.ɵɵtext(4, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_26_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r16.saveRetrospective());\n    });\n    i0.ɵɵtext(6, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"editor\", ctx_r8.Editor)(\"ngModel\", ctx_r8.report.sprint.retrospective);\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Start: \");\n    i0.ɵɵelementStart(3, \"span\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" End: \");\n    i0.ɵɵelementStart(6, \"span\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵtext(9, \"Total estimate: \");\n    i0.ɵɵelementStart(10, \"span\", 8);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"h4\", 10);\n    i0.ɵɵtext(13, \"Goal: \");\n    i0.ɵɵelementStart(14, \"span\", 8);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 8);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_18_Template, 4, 0, \"div\", 11);\n    i0.ɵɵelementStart(19, \"h4\", 4);\n    i0.ɵɵtext(20, \"Burndown\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"app-burndown\", 12);\n    i0.ɵɵelementStart(22, \"h4\", 4);\n    i0.ɵɵtext(23, \"Retrospective \");\n    i0.ɵɵtemplate(24, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_span_24_Template, 4, 0, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_25_Template, 3, 1, \"div\", 14);\n    i0.ɵɵtemplate(26, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_div_26_Template, 7, 2, \"div\", 15);\n    i0.ɵɵelementStart(27, \"h4\", 4);\n    i0.ɵɵtext(28, \"Issues:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"sb-retrospective-issue-list\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.report.sprint.start_date);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.report.sprint.end_date);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.report.sprint.total_estimate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.report.sprint.goal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.report.sprint.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.permission(ctx_r3.report.sprint, \"compare\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"sprintId\", ctx_r3.report.sprint.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.editingRetrospective);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.editingRetrospective);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.editingRetrospective);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"issues\", ctx_r3.report.issues);\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"sb-sprint-snapshot\", 28);\n    i0.ɵɵlistener(\"close\", function SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_3_Template_sb_sprint_snapshot_close_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.mode = \"report\");\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"editable\", true)(\"project\", ctx_r4.project)(\"sprint\", ctx_r4.report.sprint);\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5);\n    i0.ɵɵtemplate(2, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_2_Template, 30, 11, \"div\", 6);\n    i0.ɵɵtemplate(3, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_div_3_Template, 2, 3, \"div\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r2.mode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"report\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"compare\");\n  }\n}\n\nfunction SprintRetrospectiveReportInnerComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 1)(1, \"mat-card-title\");\n    i0.ɵɵtemplate(2, SprintRetrospectiveReportInnerComponent_mat_card_0_div_2_Template, 2, 2, \"div\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card-content\");\n    i0.ɵɵtemplate(4, SprintRetrospectiveReportInnerComponent_mat_card_0_div_4_Template, 4, 3, \"div\", 3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.report.sprint);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.report.sprint);\n  }\n}\n\nexport let SprintRetrospectiveReportInnerComponent = /*#__PURE__*/(() => {\n  class SprintRetrospectiveReportInnerComponent extends Base {\n    constructor(sprintsService, snackBar) {\n      super();\n      this.sprintsService = sprintsService;\n      this.snackBar = snackBar;\n      this.mode = \"report\";\n    }\n\n    ngOnInit() {}\n\n    saveRetrospective() {\n      callWithSnackBar(this.snackBar, this.sprintsService.save({\n        id: this.sprintId,\n        retrospective: this.report.sprint.retrospective\n      }), ['Saving retrospective...', 'Saved retrospective', 'Error saving retrospective']);\n      this.editingRetrospective = false;\n    }\n\n  }\n\n  SprintRetrospectiveReportInnerComponent.ɵfac = function SprintRetrospectiveReportInnerComponent_Factory(t) {\n    return new (t || SprintRetrospectiveReportInnerComponent)(i0.ɵɵdirectiveInject(i1.SprintsService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n  };\n\n  SprintRetrospectiveReportInnerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SprintRetrospectiveReportInnerComponent,\n    selectors: [[\"sb-sprint-retrospective-report-inner\"]],\n    inputs: {\n      report: \"report\",\n      sprintId: \"sprintId\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"inner-detail-card\", 4, \"ngIf\"], [1, \"inner-detail-card\"], [\"class\", \"banner-text\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"banner-text\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [1, \"pb-3\", \"menu-text\"], [1, \"base-text\"], [1, \"mb-3\", \"menu-text\"], [1, \"menu-text\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [3, \"sprintId\"], [\"class\", \"no-print\", 4, \"ngIf\"], [\"style\", \"font-size: 12pt; font-weight: normal;\", 4, \"ngIf\"], [\"class\", \"no-print mb-3\", \"style\", \"font-size: 12pt; font-weight: normal;\", 4, \"ngIf\"], [3, \"issues\"], [1, \"mt-3\"], [1, \"sb-link\", 3, \"click\"], [1, \"menu-text\", \"team-summary-link\"], [1, \"no-print\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"color\", \"primary\"], [2, \"font-size\", \"12pt\", \"font-weight\", \"normal\"], [3, \"innerHtml\"], [1, \"no-print\", \"mb-3\", 2, \"font-size\", \"12pt\", \"font-weight\", \"normal\"], [\"rows\", \"4\", \"name\", \"issueDescription\", 1, \"issue-editor\", \"mt-6\", 3, \"editor\", \"data\", \"ngModel\", \"ngModelChange\"], [\"mat-button\", \"\", 1, \"menu-text\", 3, \"click\"], [3, \"editable\", \"project\", \"sprint\", \"close\"]],\n    template: function SprintRetrospectiveReportInnerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SprintRetrospectiveReportInnerComponent_mat_card_0_Template, 5, 2, \"mat-card\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.report);\n      }\n    },\n    dependencies: [i3.NgIf, i3.NgSwitch, i3.NgSwitchCase, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.MatCard, i5.MatCardContent, i5.MatCardTitle, i6.MatIcon, i7.MatButton, i8.BurndownComponent, i9.RetrospectiveIssueListComponent, i10.SprintSnapshotComponent],\n    styles: [\"[_nghost-%COMP%]     .ck-editor__editable_inline{height:12rem;font-family:var(--user-font)}.inner-detail-card[_ngcontent-%COMP%]{background:var(--background);color:var(--on-background);border-radius:1px}\"]\n  });\n  return SprintRetrospectiveReportInnerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}