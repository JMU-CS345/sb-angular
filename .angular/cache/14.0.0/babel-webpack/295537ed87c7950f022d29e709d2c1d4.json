{"ast":null,"code":"import { Base } from '../base';\nimport { ProjectService } from '../project.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { callWithSnackBar } from '../util';\nimport { NavigationService } from '../navigation.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../project.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"../navigation.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/icon\";\n\nfunction ProjectFrameComponent_mat_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-icon\", 8);\n    i0.ɵɵlistener(\"click\", function ProjectFrameComponent_mat_icon_2_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.showContent());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectFrameComponent_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"img\", 9);\n    i0.ɵɵlistener(\"click\", function ProjectFrameComponent_img_3_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.showContent());\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r1.project.picture, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProjectFrameComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.project.name, \" : \", ctx_r2.navigationService.segment, \"\");\n  }\n}\n\nfunction ProjectFrameComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.project.name);\n  }\n}\n\nfunction ProjectFrameComponent_mat_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-icon\", 11);\n    i0.ɵɵlistener(\"click\", function ProjectFrameComponent_mat_icon_6_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.editSettings());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectFrameComponent_ng_content_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0, 0, [\"*ngSwitchCase\", \"'showingContent'\"]);\n  }\n}\n\nfunction ProjectFrameComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"EDITING\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectFrameComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Picture URL: \");\n    i0.ɵɵelementStart(3, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectFrameComponent_div_10_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.project.picture = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Auto-close Issues: \");\n    i0.ɵɵelementStart(6, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectFrameComponent_div_10_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.project.setting_auto_close_issues = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8, \"Use Acceptance Criteria: \");\n    i0.ɵɵelementStart(9, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectFrameComponent_div_10_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.project.setting_use_acceptance_criteria = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11, \"Allow Completing Issue Without Sprint: \");\n    i0.ɵɵelementStart(12, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectFrameComponent_div_10_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.project.allow_issue_completion_without_sprint = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14, \"Hidden: \");\n    i0.ɵɵelementStart(15, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectFrameComponent_div_10_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.project.hidden = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ProjectFrameComponent_div_10_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.saveSettings());\n    });\n    i0.ɵɵtext(17, \"Save\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.project.picture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.project.setting_auto_close_issues);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.project.setting_use_acceptance_criteria);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.project.allow_issue_completion_without_sprint);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.project.hidden);\n  }\n}\n\nconst _c0 = [\"*\"];\nexport let ProjectFrameComponent = /*#__PURE__*/(() => {\n  class ProjectFrameComponent extends Base {\n    constructor(projectService, snackBar, navigationService) {\n      super();\n      this.projectService = projectService;\n      this.snackBar = snackBar;\n      this.navigationService = navigationService;\n      this.showEditButton = false;\n      this.showSettingsButton = true;\n      this.mode = \"showingContent\";\n    }\n\n    ngOnInit() {}\n\n    editProject() {\n      this.mode = \"editingProject\";\n    }\n\n    showTeam() {\n      this.mode = \"showingTeam\";\n    }\n\n    showContent() {\n      this.mode = \"showingContent\";\n    }\n\n    editSettings() {\n      if (this.mode != \"editingSettings\") {\n        this.mode = \"editingSettings\";\n      } else {\n        this.showContent();\n      }\n    }\n\n    saveSettings() {\n      callWithSnackBar(this.snackBar, this.projectService.updateProject({\n        id: this.project.id,\n        picture: this.project.picture,\n        setting_auto_close_issues: this.project.setting_auto_close_issues,\n        setting_use_acceptance_criteria: this.project.setting_use_acceptance_criteria,\n        allow_issue_completion_without_sprint: this.project.allow_issue_completion_without_sprint,\n        hidden: this.project.hidden\n      }), [\"Saving settings...\", \"Settings saved\", \"Error saving settings\"]);\n    }\n\n  }\n\n  ProjectFrameComponent.ɵfac = function ProjectFrameComponent_Factory(t) {\n    return new (t || ProjectFrameComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.NavigationService));\n  };\n\n  ProjectFrameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectFrameComponent,\n    selectors: [[\"app-project-frame\"]],\n    inputs: {\n      project: \"project\",\n      showEditButton: \"showEditButton\",\n      showSettingsButton: \"showSettingsButton\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c0,\n    decls: 11,\n    vars: 9,\n    consts: [[1, \"project-frame-card\"], [1, \"banner-text\", \"card-title\"], [\"class\", \"sb-icon mr-1\", \"fontSet\", \"fas\", \"fontIcon\", \"fa-shapes\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"project-picture\", 3, \"src\", \"click\", 4, \"ngIf\"], [\"class\", \"navigation-segment\", 4, \"ngIf\"], [\"class\", \"sb-icon ml-4\", \"fontSet\", \"fas\", \"fontIcon\", \"fa-sliders-h\", 3, \"click\", 4, \"ngIf\"], [1, \"card-contents\", 3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"fontSet\", \"fas\", \"fontIcon\", \"fa-shapes\", 1, \"sb-icon\", \"mr-1\", 3, \"click\"], [1, \"project-picture\", 3, \"src\", \"click\"], [1, \"navigation-segment\"], [\"fontSet\", \"fas\", \"fontIcon\", \"fa-sliders-h\", 1, \"sb-icon\", \"ml-4\", 3, \"click\"], [1, \"picture-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n    template: function ProjectFrameComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n        i0.ɵɵtemplate(2, ProjectFrameComponent_mat_icon_2_Template, 1, 0, \"mat-icon\", 2);\n        i0.ɵɵtemplate(3, ProjectFrameComponent_img_3_Template, 1, 1, \"img\", 3);\n        i0.ɵɵtemplate(4, ProjectFrameComponent_span_4_Template, 2, 2, \"span\", 4);\n        i0.ɵɵtemplate(5, ProjectFrameComponent_span_5_Template, 2, 1, \"span\", 4);\n        i0.ɵɵtemplate(6, ProjectFrameComponent_mat_icon_6_Template, 1, 0, \"mat-icon\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, ProjectFrameComponent_ng_content_8_Template, 1, 0, \"ng-content\", 7);\n        i0.ɵɵtemplate(9, ProjectFrameComponent_div_9_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(10, ProjectFrameComponent_div_10_Template, 18, 5, \"div\", 7);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.project.picture);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.project.picture);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.navigationService.segment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.navigationService.segment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.permission(ctx.project, \"configure\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitch\", ctx.mode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"showingContent\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"editingProject\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"editingSettings\");\n      }\n    },\n    dependencies: [i4.NgIf, i4.NgSwitch, i4.NgSwitchCase, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.MatIcon],\n    styles: [\".project-frame-card[_ngcontent-%COMP%]{width:90%;max-width:1200px;margin:0 auto;margin-top:1rem;margin-bottom:1rem;min-height:90%;border:1px solid var(--card-border)}@media screen and (max-width: 779px){.project-frame-card[_ngcontent-%COMP%]{width:100%;margin-top:0}}.picture-input[_ngcontent-%COMP%]{width:80%}.project-picture[_ngcontent-%COMP%]{width:32px}.card-title[_ngcontent-%COMP%]{font-size:x-large;background-color:var(--background);color:var(--on-background);padding:10px 0 10px 20px;border-bottom:1px solid var(--card-border);font-family:var(--banner-font)}.card-contents[_ngcontent-%COMP%]{padding:0 20px 20px}.navigation-segment[_ngcontent-%COMP%]{text-transform:capitalize}\"]\n  });\n  return ProjectFrameComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}