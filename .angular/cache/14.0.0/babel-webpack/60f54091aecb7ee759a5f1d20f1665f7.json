{"ast":null,"code":"import { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { LoginService } from '../login.service';\nimport { LocationService } from '../location.service';\nimport { Base } from '../base';\nimport { DataService } from '../data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../login.service\";\nimport * as i3 from \"../location.service\";\nimport * as i4 from \"../data.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/progress-spinner\";\n\nfunction ProjectsComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/projects\", a1, \"dashboard\"];\n};\n\nfunction ProjectsComponent_div_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"span\", 8)(2, \"a\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const project_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", !ctx_r3.permission(project_r4, \"read\") ? true : null);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, project_r4.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r4.name);\n  }\n}\n\nfunction ProjectsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵelement(2, \"mat-icon\", 4);\n    i0.ɵɵtext(3, \" Your Projects \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtemplate(5, ProjectsComponent_div_2_div_5_Template, 4, 6, \"div\", 6);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 1, ctx_r2.projects).projects.list);\n  }\n}\n\nexport let ProjectsComponent = /*#__PURE__*/(() => {\n  class ProjectsComponent extends Base {\n    constructor(router, loginService, locationService, dataService) {\n      super();\n      this.router = router;\n      this.loginService = loginService;\n      this.locationService = locationService;\n      this.dataService = dataService;\n      this.displayedColumns = ['id', 'name'];\n      locationService.breadcrumb = {\n        path: [],\n        links: []\n      };\n      locationService.type = \"home\";\n      locationService.menuItem = \"projects\";\n      locationService.sprintId = null;\n      locationService.projectId = null;\n      locationService.setTab('projects');\n    }\n\n    ngOnInit() {\n      this.refreshList();\n    }\n\n    refreshList() {\n      this.dataService.load('projects', ['projects', 'projects/*']);\n      this.projects = this.dataService.values['projects'];\n    }\n\n    ngOnDestroy() {\n      this.dataService.unload('projects', ['projects', 'projects/*']);\n    }\n\n    project_list(projects) {\n      return projects ? projects.projects.list : [];\n    }\n\n  }\n\n  ProjectsComponent.ɵfac = function ProjectsComponent_Factory(t) {\n    return new (t || ProjectsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.LocationService), i0.ɵɵdirectiveInject(i4.DataService));\n  };\n\n  ProjectsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectsComponent,\n    selectors: [[\"app-projects\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 4,\n    vars: 4,\n    consts: [[\"progressSpinner\", \"\"], [\"class\", \"projects\", 4, \"ngIf\", \"ngIfElse\"], [1, \"projects\"], [1, \"card-title\"], [\"fontSet\", \"fas\", \"fontIcon\", \"fa-shapes\", 1, \"mr-3\", \"sb-icon\"], [1, \"text-left\", \"project-container\"], [\"class\", \"project-list col-12\", 4, \"ngFor\", \"ngForOf\"], [1, \"project-list\", \"col-12\"], [1, \"project-entry\"], [1, \"select-link\", 3, \"routerLink\"]],\n    template: function ProjectsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProjectsComponent_ng_template_0_Template, 1, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(2, ProjectsComponent_div_2_Template, 7, 3, \"div\", 1);\n        i0.ɵɵpipe(3, \"async\");\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.projects))(\"ngIfElse\", _r0);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i1.RouterLinkWithHref, i6.MatIcon, i7.MatSpinner, i5.AsyncPipe],\n    styles: [\".projects[_ngcontent-%COMP%]{width:90%;max-width:800px;margin:0 auto;margin-top:1rem;min-height:90%;border:1px solid var(--card-border)}@media screen and (max-width: 779px){.projects[_ngcontent-%COMP%]{width:100%;margin-top:0;height:100%}}.card-title[_ngcontent-%COMP%]{font-size:xx-large;background-color:var(--background);color:var(--on-background);padding:20px;font-family:var(--banner-font);border-bottom:1px solid var(--card-border)}.project-container[_ngcontent-%COMP%]{padding:20px;font-size:large}.project-entry[_ngcontent-%COMP%]{font-family:var(--text-font)}.select-link[_ngcontent-%COMP%]{color:var(--link)}.select-link[_ngcontent-%COMP%]:hover{color:var(--link-hover)}.select-link[_ngcontent-%COMP%]:active{color:var(--link-active)}.select-link[_ngcontent-%COMP%]:visited{color:var(--link-visited)}\"]\n  });\n  return ProjectsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}